<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>약복용량 계산기</title>
    <link rel="stylesheet" href="style.css">  <!-- CSS 파일 연결 -->
    <style>
        .hidden {
            display: none;
        }
        .active {
            background-color: #007BFF;
            color: white;
        }
        .button-group {
            margin-bottom: 10px;
            display: flex; /* Flexbox를 사용하여 버튼 정렬 */
            justify-content: center; /* 가운데 정렬 */
        }
        /* 버튼 너비 조정 */
        .button-group button {
            width: 45%; /* 버튼의 너비를 45%로 줄임 */
            margin: 0 2.5%; /* 버튼 사이의 간격 */
        }
        /* 계산 버튼과 입력란 사이의 간격 조정 */
        #calculateButton {
            margin-top: 20px; /* 계산 버튼 위쪽 간격 */
        }
        /* 입력란 스타일 */
        #inputFields {
            margin-top: 20px; /* 입력란 위쪽 간격 */
            display: flex;
            flex-direction: column; /* 세로 정렬 */
            align-items: center; /* 가운데 정렬 */
        }
        /* 입력란 너비 */
        input {
            width: 70%; /* 입력란 너비 조정 */
            margin-bottom: 10px; /* 입력란 간격 */
        }
    </style>
</head>
<body>
    <h1>약복용량 계산기</h1>

    <!-- Age Group Buttons -->
    <div class="button-group">
        <button id="childrenButton" onclick="selectAgeGroup('children')" class="active">소아</button>
        <button id="adultsButton" onclick="selectAgeGroup('adults')">성인</button>
    </div>

    <label for="functionSelect">함수를 선택하세요:</label>
    <select id="functionSelect" onchange="showInputFields()">
        <option value="">선택</option>
        <option value="med_name1">약_이름 1</option>
        <option value="med_name2">약_이름 2</option>
        <option value="med_name3">약_이름 3</option>
        <option value="med_name4">약_이름 4</option>
        <option value="med_name5">약_이름 5</option>
        <option value="med_name6">약_이름 6</option>
        <option value="med_name7">약_이름 7</option>
        <option value="med_name8">약_이름 8</option>
        <option value="med_name9">약_이름 9</option>
        <option value="med_name10">약_이름 10</option>
    </select>

    <div id="inputFields" class="hidden">
        <label for="variable1">키:</label>
        <input type="number" id="variable1" placeholder="키 입력"><br>
        
        <label for="variable2">몸무게:</label>
        <input type="number" id="variable2" placeholder="몸무게 입력"><br>
    </div>
    
    <button id="calculateButton" onclick="calculateDosage()">계산</button>
    <h2>약복용량: <span id="dosageResult">0</span></h2>

    <script>
        let currentAgeGroup = 'children'; // Default age group

        function selectAgeGroup(ageGroup) {
            currentAgeGroup = ageGroup;
            const childrenButton = document.getElementById('childrenButton');
            const adultsButton = document.getElementById('adultsButton');

            // Highlight the selected button
            childrenButton.classList.toggle('active', ageGroup === 'children');
            adultsButton.classList.toggle('active', ageGroup === 'adults');

            showInputFields(); // Show input fields after selecting age group
        }

        function showInputFields() {
            const selectedFunction = document.getElementById('functionSelect').value;
            const inputFields = document.getElementById('inputFields');
            inputFields.classList.toggle('hidden', selectedFunction === '');
        }

        function calculateDosage() {
            const selectedFunction = document.getElementById('functionSelect').value;
            const variable1 = parseFloat(document.getElementById('variable1').value);
            const variable2 = parseFloat(document.getElementById('variable2').value);
            let dosage = 0;

            if (currentAgeGroup === 'children') {
                switch (selectedFunction) {
                    case 'med_name1':
                        dosage = (variable1 + variable2) * 1; // Example formula
                        break;
                    case 'med_name2':
                        dosage = variable1 * variable1 + variable2 * variable2; // Example formula
                        break;
                    case 'med_name3':
                        dosage = variable1 / variable2; // Example formula
                        break;
                    case 'med_name4':
                        dosage = (variable1 + variable2) - 1; // Example formula
                        break;
                    case 'med_name5':
                        dosage = (variable1 * 1) - variable2; // Example formula
                        break;
                }
            } else {
                switch (selectedFunction) {
                    case 'med_name6':
                        dosage = (variable1 + variable2) / 2; // Example formula
                        break;
                    case 'med_name7':
                        dosage = variable1 * variable2; // Example formula
                        break;
                    case 'med_name8':
                        dosage = (variable1 + variable2) * 2; // Example formula
                        break;
                    case 'med_name9':
                        dosage = variable1 - variable2; // Example formula
                        break;
                    case 'med_name10':
                        dosage = (variable1 * variable2) / 2; // Example formula
                        break;
                }
            }

            document.getElementById('dosageResult').innerText = dosage;
        }
    </script>
</body>
</html>
